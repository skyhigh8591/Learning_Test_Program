C51 COMPILER V8.17   QLCD2                                                                 08/27/2009 22:57:10 PAGE 1   


C51 COMPILER V8.17, COMPILATION OF MODULE QLCD2
OBJECT MODULE PLACED IN QLCD2.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE QLCD2.c OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /************** QLCD2.C ***********************
   2          *動作：由LCD顯示兩行文字
   3          ***********************************************/
   4          #include "..\MPC82.H"   //暫存器及組態定義
   5          char code  Table[]="歡迎使用"; //第一行陣列字元
   6          void main(void)
   7          {
   8   1        unsigned char i;        //資料計數
   9   1        Delay_ms(10);  //初始化SETUP
  10   1        LCD_Cmd(0x30); //功能設定
  11   1        LCD_Cmd(0x02); //DDRAM設定到00
  12   1        LCD_Cmd(0x04);
  13   1        LCD_Cmd(0x0c); //顯示幕ON
  14   1        LCD_Cmd(0x01); //清除畫面
  15   1        LCD_Cmd(0x80); //設定DDRAM位址在第一行
  16   1        for(i=0; i<8; i=i+2)
  17   1        {
  18   2          LCD_Data(0x01);                                      
  19   2          LCD_Data(Table[i]);
  20   2          //LCD_Data(Table[i+1]);
  21   2        }
  22   1      }
  23          /***********************************************************
  24          *函數名稱: LCD_Data
  25          *功能描述: 傳送資料到文字型LCD
  26          *輸入參數：dat
  27          ************************************************************/
  28          void LCD_Data(char dat)  //傳送資料到LCD
  29          {
  30   1          Data=dat; //資料送到BUS
  31   1          RS=1;RW=0;EN=1;//資料寫入到LCD內
  32   1          Delay_ms(1);   //LCD等待寫入完成
  33   1          EN=0;          //禁能LCD 
  34   1      }
  35          /***************************************************************
  36          *函數名稱: LCD_Cmd
  37          *功能描述: 傳送命令到文字型LCD
  38          *輸入參數：Cmd
  39          ************************************************************/
  40          void LCD_Cmd(unsigned char Cmd) //傳送命令到LCD
  41          {
  42   1          Data=Cmd;  //命令送到BUS
  43   1          RS=0;RW=0;EN=1; //命令寫入到LCD內
  44   1          Delay_ms(1);    //LCD等待寫入完成     
  45   1          EN=0;           //禁能LCD
  46   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    157    ----
   CONSTANT SIZE    =      9    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      7    ----
   IDATA SIZE       =   ----    ----
C51 COMPILER V8.17   QLCD2                                                                 08/27/2009 22:57:10 PAGE 2   

   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
