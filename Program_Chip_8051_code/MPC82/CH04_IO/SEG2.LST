C51 COMPILER V9.56.0.0   SEG2                                                              02/27/2020 16:03:08 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE SEG2
OBJECT MODULE PLACED IN SEG2.OBJ
COMPILER INVOKED BY: C:\Keil_v51\C51\BIN\C51.EXE SEG2.C OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /************ SEG2.C ***************************
   2          *動作：四位數掃描計數器，以十六進制顯示0000~ffff
   3          *接線：Data=七段顯示器低電位輸出=Pgfedcba
   4          *      低電位掃描：S3~0=千、百、十、個位數
   5          *硬體：SW1-1(SEG7)ON
   6          ***********************************************/
   7          #include "..\MPC82.H"   //暫存器及組態定義
   8           unsigned char code Table[] //0~F數碼資料
   9            ={0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,
  10              0x7f,0x6f,0x77,0x7c,0x39,0x5e,0x79,0x71};
  11           
  12          main() 
  13          {
  14   1        unsigned char scan;  //掃描次數  
  15   1        unsigned int count=0x1234; //計數初值 
  16   1        unsigned char i;    //擷取計數的個、十、百、千位數 
  17   1        P0M0=0; P0M1=0xFF; //設定P0為推挽式輸出(M0-1=01)
  18   1         while(1)     //重覆執行
  19   1          {
  20   2           for(scan=0;scan<100;scan++) //重覆掃描次數 
  21   2            {
  22   3             S0=S1=S2=S3=1; //遮沒
  23   3             i=count & 0x000f;  //取出個位數 
  24   3             Data=~Table[i];//讀取個位數碼資料輸出
  25   3             S0=0;       //選擇個位數顯示器
  26   3             Delay_ms(1);   //掃描延時  
  27   3             
  28   3             S0=S1=S2=S3=1; //遮沒          
  29   3             i=(count & 0x00f0)>>4; //取出十位數 
  30   3             Data=~Table[i];//讀取十位數碼資料輸出
  31   3             S1=0;       //選擇十位數顯示器
  32   3             Delay_ms(1);   //掃描延時
  33   3             
  34   3             S0=S1=S2=S3=1; //遮沒                     
  35   3             i=(count & 0x0f00)>>8; //取出百位數 
  36   3             Data=~Table[i];//讀取百位數碼資料輸出
  37   3             S2=0;       //選擇百位數顯示器
  38   3             Delay_ms(1);   //掃描延時
  39   3             
  40   3           S0=S1=S2=S3=1; //遮沒
  41   3             i=(count & 0xf000)>>12;//取出千位數 
  42   3             Data=~Table[i];//讀取千位數碼資料輸出
  43   3             S3=0;       //選擇千位數顯示器
  44   3             Delay_ms(1);   //掃描延時
  45   3           }     
  46   2           count++;  //計數+1 
  47   2         } 
  48   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    262    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
C51 COMPILER V9.56.0.0   SEG2                                                              02/27/2020 16:03:08 PAGE 2   

   DATA SIZE        =      8    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
