C51 COMPILER V9.03   SPI3                                                                  11/27/2011 11:47:13 PAGE 1   


C51 COMPILER V9.03, COMPILATION OF MODULE SPI3
OBJECT MODULE PLACED IN SPI3.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE SPI3.c OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /********SPI3.C**********SPI接收中斷範例******************
   2          *功能︰使用SPI界面中斷接收串輸入資料，同時由LED輸出。
   3          *硬體：SW1-3(P0LED)ON，由J12(SPI)連接另一片實習板的J12(SPI)
   4          ********************************************************/
   5          #include "..\MPC82.H"
   6          void main(void)
   7          {
   8   1        P0M0=0; P0M1=0xFF; //設定P0為推挽式輸出(M0-1=01)
   9   1        SPCTL = SPEN;  // 致能為Slave
  10   1        EA=1; AUXIE = ESPI;    //致能SPI中斷
  11   1        while (1);     //空轉，等待接收資料，表示可做其它工作
  12   1      }
  13          
  14          void SPI_ISR() interrupt 8       //SPI中斷函數
  15          {       
  16   1              SPSTAT = SPIF; //清除SPI旗標
  17   1              LED=~SPDAT;     //讀取SPI接收到的資料到LED顯示
  18   1      }
  19          
  20                          
  21          
  22                                   
  23                                   


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     75    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
