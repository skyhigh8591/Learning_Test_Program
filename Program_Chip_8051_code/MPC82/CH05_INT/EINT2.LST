C51 COMPILER V9.56.0.0   EINT2                                                             03/06/2020 11:20:42 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE EINT2
OBJECT MODULE PLACED IN EINT2.OBJ
COMPILER INVOKED BY: C:\Keil_v51\C51\BIN\C51.EXE EINT2.C OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /********* EINT2.c ********外部中斷範例**********************
   2          *動作：INT0(P32)腳輸入負緣觸發時，LED0閃爍50次
   3          *      INT1(P33)腳輸入負緣觸發時，LED0遞加50次
   4          *      INT2(P43)腳輸入負緣觸發時，LED1閃爍50次
   5          *      INT3(P42)腳輸入負緣觸發時，LED1遞加50次
   6          *硬體：反相輸出，將SW1-3(P0LED)及SW1-4(P1LED)短路，按KEY1-4鍵。
   7          ***********************************************/
   8          #include "..\MPC82.H"   //暫存器及組態定義
   9          main()
  10          {
  11   1        unsigned char  j=0;      //定義變數=0
  12   1        P0M0=0; P0M1=0xFF; //設定P0為推挽式輸出(M0-1=01)
  13   1        EA=1;          //致能整體中斷
  14   1        EX0=1; EX1=1; EX2=1;EX3=1;//致能外部INT0~3中斷
  15   1        IT0=1; IT1=1; IT2=1;IT3=1;//設定INT0~3腳負緣觸發中斷
  16   1        PX1=1;        //設定INT1中斷優先
  17   1        while(1);     //等待INT0-3中斷
  18   1      }
  19          /*********************************/
  20          void EX0_int(void) interrupt 0   //INT0中斷函數0
  21          {
  22   1        char i;
  23   1        for(i=0;i<50;i++) //閃爍計數
  24   1         {
  25   2           LED0=0x00;Delay_ms(100); 
  26   2           LED0=0xff;Delay_ms(100);
  27   2         }
  28   1      }
  29          /*********************************************/
  30          void EX1_int(void) interrupt 2   //INT1中斷函數2
  31          {
  32   1        char i; 
  33   1        unsigned int dly;     
  34   1        for(i=0;i<50;i++)   //計數遞加
  35   1         {
  36   2           LED0=~i;
  37   2         dly=50000; while(dly--);
  38   2         }
  39   1      }
  40          /*********************************************/
  41          void EX2_int(void) interrupt 6   //INT2中斷函數6
  42          {
  43   1       char i;
  44   1        unsigned int dly;
  45   1        for(i=0;i<50;i++) //閃爍計數
  46   1         {
  47   2           LED1=0x00;dly=50000; while(dly--); 
  48   2           LED1=0xff;dly=50000; while(dly--);
  49   2         }
  50   1      }
  51          /*********************************************/
  52          void EX3_int(void) interrupt 7   //INT3中斷函數7
  53          {
  54   1        char i; 
  55   1        unsigned int dly;     
C51 COMPILER V9.56.0.0   EINT2                                                             03/06/2020 11:20:42 PAGE 2   

  56   1        for(i=0;i<50;i++)   //計數遞加
  57   1         {
  58   2           LED1=~i;
  59   2         dly=50000; while(dly--);
  60   2         }
  61   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    341    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     15    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
