C51 COMPILER V9.56.0.0   SEG3                                                              03/04/2020 14:49:36 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE SEG3
OBJECT MODULE PLACED IN SEG3.OBJ
COMPILER INVOKED BY: C:\Keil_v51\C51\BIN\C51.EXE SEG3.C OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /************ SEG3.C ***************************
   2          *動作：四位數掃描計數器，以十進制顯示0000~9999
   3          *接線：Data=七段顯示器低電位輸出=Pgfedcba
   4          *      低電位掃描：S3~0=千、百、十、個位數
   5          *硬體：SW1-1(SEG7)ON
   6          ***********************************************/
   7          #include "..\MPC82.H"   //暫存器及組態定義
   8           unsigned char code Table[] //0~F數碼資料
   9            ={0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,
  10              0x7f,0x6f,0x77,0x7c,0x39,0x5e,0x79,0x71};
  11           main() 
  12          {
  13   1        unsigned char scan;      //掃描次數  
  14   1        unsigned int count=1234; //計數十進制初值 
  15   1        unsigned char i;    //擷取計數的個、十、百、千位數 
  16   1        P0M0=0; P0M1=0xFF; //設定P0為推挽式輸出(M0-1=01)
  17   1         while(1)     //重覆執行
  18   1          {
  19   2           for(scan=0;scan<100;scan++) //重覆掃描次數 
  20   2            {
  21   3             S0=S1=S2=S3=1;      //遮沒
  22   3             i=count % 10;       //取出個位數
  23   3             Data=~Table[i];     //讀取個位數碼資料輸出
  24   3             S0=0;               //選擇個位數顯示器
  25   3             Delay_ms(1);        //掃描延時  
  26   3             
  27   3             S0=S1=S2=S3=1;      //遮沒           
  28   3             i=(count % 100)/10; //取出十位數 
  29   3             Data=~Table[i];     //讀取十位數碼資料輸出
  30   3             if(count>9) S1=0;   //若計數>9，顯示十位數
  31   3             Delay_ms(1);        //掃描延時
  32   3                                  
  33   3             S0=S1=S2=S3=1;       //遮沒
  34   3             i=(count % 1000)/100;//取出百位數
  35   3             Data=~Table[i];      //讀取百位數碼資料輸出
  36   3             if(count>99) S2=0;   //若計數>99，顯示百位數
  37   3             Delay_ms(1);         //掃描延時
  38   3             
  39   3             S0=S1=S2=S3=1;       //遮沒
  40   3             i=count/1000;        //取出千位數
  41   3             Data=~Table[i];      //讀取千位數碼資料輸出
  42   3             if(count>999) S3=0;  //若計數>999，顯示千位數
  43   3             Delay_ms(1);         //掃描延時
  44   3           }     
  45   2           count++;          //計數+1 
  46   2         if(count>9999) count=0; //若計數超過9999，計數=0
  47   2         } 
  48   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    334    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
C51 COMPILER V9.56.0.0   SEG3                                                              03/04/2020 14:49:36 PAGE 2   

   DATA SIZE        =      8    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
