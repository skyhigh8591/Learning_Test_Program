C51 COMPILER V6.11  BZ                             12/13/2001 22:41:51 PAGE 1   


C51 COMPILER V6.11, COMPILATION OF MODULE BZ
OBJECT MODULE PLACED IN Bz.OBJ
COMPILER INVOKED BY: c:\c51\bin\C51.EXE Bz.c

stmt level    source

   1          //
   2          //   配合"揚聲器實習板"
   3          //       P0.0所接的揚聲器順序發出Do~Si的音, 各音持續1秒鐘. 
   4          //
   5          #pragma oe db pw(80) SM SB CD
   6          #include <reg51.h>
   7          #include "Delay.h"
   8          
   9          char tbl1[]={19,17,15,14,12,11,10,9};
  10          int  tbl2[]={523,587,659,698,785,880,988,1047};
  11          main()
  12          {
  13   1      	char j, t1;
  14   1      	int  i, k, t2;
  15   1      
  16   1      	P0 =0;
  17   1      	
  18   1      	for(i=0; i<8; i++){
  19   2      	    t2=tbl2[i];
  20   2      	    t1=tbl1[i];	
  21   2      	    for(k=0; k<t2; k++){
  22   3      		for(j=0; j<t1; j++){
  23   4      		    Delay100us();
  24   4      		}
  25   3      		P0 = ~P0;
  26   3      	    }
  27   2      	}
  28   1      	for(;;);
  29   1      }
C51 COMPILER V6.11  BZ                             12/13/2001 22:41:51 PAGE 2   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION Delay100us (BEGIN)
                                           ; SOURCE LINE # 72
                                           ; SOURCE LINE # 73
                                           ; SOURCE LINE # 75
;---- Variable 'i' assigned to Register 'R7' ----
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002         ?C0001:
0002 0F                INC     R7
0003 BF1FFC            CJNE    R7,#01FH,?C0001
0006         ?C0002:
                                           ; SOURCE LINE # 76
0006 0F                INC     R7
                                           ; SOURCE LINE # 77
0007 22                RET     
             ; FUNCTION Delay100us (END)

             ; FUNCTION Delay1ms (BEGIN)
                                           ; SOURCE LINE # 79
                                           ; SOURCE LINE # 80
                                           ; SOURCE LINE # 83
;---- Variable 'i' assigned to Register 'R6/R7' ----
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002 FE                MOV     R6,A
0003         ?C0005:
0003 0F                INC     R7
0004 BF0001            CJNE    R7,#00H,?C0050
0007 0E                INC     R6
0008         ?C0050:
0008 EF                MOV     A,R7
0009 647C              XRL     A,#07CH
000B 4E                ORL     A,R6
000C 70F5              JNZ     ?C0005
000E         ?C0006:
                                           ; SOURCE LINE # 84
000E 0500        R     INC     j
                                           ; SOURCE LINE # 85
0010 22                RET     
             ; FUNCTION Delay1ms (END)

             ; FUNCTION Delay10ms (BEGIN)
                                           ; SOURCE LINE # 87
                                           ; SOURCE LINE # 88
                                           ; SOURCE LINE # 90
;---- Variable 'i' assigned to Register 'R5' ----
0000 E4                CLR     A
0001 FD                MOV     R5,A
0002         ?C0009:
                                           ; SOURCE LINE # 91
0002 120000      R     LCALL   Delay1ms
                                           ; SOURCE LINE # 92
0005 0D                INC     R5
0006 BD0AF9            CJNE    R5,#0AH,?C0009
                                           ; SOURCE LINE # 93
0009         ?C0012:
0009 22                RET     
             ; FUNCTION Delay10ms (END)

C51 COMPILER V6.11  BZ                             12/13/2001 22:41:51 PAGE 3   

             ; FUNCTION Delay100ms (BEGIN)
                                           ; SOURCE LINE # 95
                                           ; SOURCE LINE # 96
                                           ; SOURCE LINE # 99
0000 E4                CLR     A
0001 F500        R     MOV     i+03H,A
0003 F500        R     MOV     i+02H,A
0005 F500        R     MOV     i+01H,A
0007 F500        R     MOV     i,A
0009         ?C0013:
0009 E4                CLR     A
000A 7FC5              MOV     R7,#0C5H
000C 7E02              MOV     R6,#02H
000E FD                MOV     R5,A
000F FC                MOV     R4,A
0010 AB00        R     MOV     R3,i+03H
0012 AA00        R     MOV     R2,i+02H
0014 A900        R     MOV     R1,i+01H
0016 A800        R     MOV     R0,i
0018 C3                CLR     C
0019 120000      E     LCALL   ?C?SLCMP
001C 501B              JNC     ?C0014
001E E4                CLR     A
001F FA                MOV     R2,A
0020 F9                MOV     R1,A
0021 F8                MOV     R0,A
0022 E500        R     MOV     A,i+03H
0024 2401              ADD     A,#01H
0026 F500        R     MOV     i+03H,A
0028 EA                MOV     A,R2
0029 3500        R     ADDC    A,i+02H
002B F500        R     MOV     i+02H,A
002D E9                MOV     A,R1
002E 3500        R     ADDC    A,i+01H
0030 F500        R     MOV     i+01H,A
0032 E8                MOV     A,R0
0033 3500        R     ADDC    A,i
0035 F500        R     MOV     i,A
0037 80D0              SJMP    ?C0013
0039         ?C0014:
                                           ; SOURCE LINE # 100
;---- Variable 'j' assigned to Register 'R7' ----
0039 E4                CLR     A
003A FF                MOV     R7,A
003B         ?C0016:
003B 0F                INC     R7
003C BF05FC            CJNE    R7,#05H,?C0016
003F         ?C0017:
                                           ; SOURCE LINE # 101
003F 0F                INC     R7
                                           ; SOURCE LINE # 102
0040 0F                INC     R7
                                           ; SOURCE LINE # 103
0041 22                RET     
             ; FUNCTION Delay100ms (END)

             ; FUNCTION Delay1s (BEGIN)
                                           ; SOURCE LINE # 105
                                           ; SOURCE LINE # 106
                                           ; SOURCE LINE # 108
0000 E4                CLR     A
0001 F500        R     MOV     i,A
C51 COMPILER V6.11  BZ                             12/13/2001 22:41:51 PAGE 4   

0003         ?C0020:
                                           ; SOURCE LINE # 109
0003 120000      R     LCALL   Delay100ms
                                           ; SOURCE LINE # 110
0006 0500        R     INC     i
0008 C3                CLR     C
0009 E500        R     MOV     A,i
000B 6480              XRL     A,#080H
000D 948A              SUBB    A,#08AH
000F 40F2              JC      ?C0020
                                           ; SOURCE LINE # 111
0011         ?C0023:
0011 22                RET     
             ; FUNCTION Delay1s (END)

             ; FUNCTION Delay10s (BEGIN)
                                           ; SOURCE LINE # 113
                                           ; SOURCE LINE # 114
                                           ; SOURCE LINE # 116
0000 E4                CLR     A
0001 F500        R     MOV     i,A
0003         ?C0024:
                                           ; SOURCE LINE # 117
0003 120000      R     LCALL   Delay1s
                                           ; SOURCE LINE # 118
0006 0500        R     INC     i
0008 C3                CLR     C
0009 E500        R     MOV     A,i
000B 6480              XRL     A,#080H
000D 948A              SUBB    A,#08AH
000F 40F2              JC      ?C0024
                                           ; SOURCE LINE # 119
0011         ?C0027:
0011 22                RET     
             ; FUNCTION Delay10s (END)

             ; FUNCTION Delay100s (BEGIN)
                                           ; SOURCE LINE # 121
                                           ; SOURCE LINE # 122
                                           ; SOURCE LINE # 124
0000 E4                CLR     A
0001 F500        R     MOV     i,A
0003         ?C0028:
                                           ; SOURCE LINE # 125
0003 120000      R     LCALL   Delay10s
                                           ; SOURCE LINE # 126
0006 0500        R     INC     i
0008 C3                CLR     C
0009 E500        R     MOV     A,i
000B 6480              XRL     A,#080H
000D 948A              SUBB    A,#08AH
000F 40F2              JC      ?C0028
                                           ; SOURCE LINE # 127
0011         ?C0031:
0011 22                RET     
             ; FUNCTION Delay100s (END)

             ; FUNCTION _Delay100usP (BEGIN)
;---- Variable 'i' assigned to Register 'R6' ----
;---- Variable 'cnt' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 129
                                           ; SOURCE LINE # 130
C51 COMPILER V6.11  BZ                             12/13/2001 22:41:51 PAGE 5   

0000         ?C0032:
                                           ; SOURCE LINE # 133
0000 EF                MOV     A,R7
0001 600A              JZ      ?C0037
                                           ; SOURCE LINE # 134
0003 E4                CLR     A
0004 FE                MOV     R6,A
0005         ?C0034:
0005 0E                INC     R6
0006 BE1FFC            CJNE    R6,#01FH,?C0034
0009         ?C0035:
                                           ; SOURCE LINE # 135
0009 0E                INC     R6
                                           ; SOURCE LINE # 136
000A 1F                DEC     R7
                                           ; SOURCE LINE # 137
000B 80F3              SJMP    ?C0032
                                           ; SOURCE LINE # 138
000D         ?C0037:
000D 22                RET     
             ; FUNCTION _Delay100usP (END)

             ; FUNCTION main (BEGIN)
                                           ; SOURCE LINE # 11
                                           ; SOURCE LINE # 12
                                           ; SOURCE LINE # 16
0000 E4                CLR     A
0001 F580              MOV     P0,A
                                           ; SOURCE LINE # 18
;---- Variable 'i' assigned to Register 'R4/R5' ----
0003 FD                MOV     R5,A
0004 FC                MOV     R4,A
0005         ?C0038:
                                           ; SOURCE LINE # 19
0005 ED                MOV     A,R5
0006 25E0              ADD     A,ACC
0008 2400        R     ADD     A,#LOW tbl2
000A F8                MOV     R0,A
000B E6                MOV     A,@R0
000C F500        R     MOV     t2,A
000E 08                INC     R0
000F E6                MOV     A,@R0
0010 F500        R     MOV     t2+01H,A
                                           ; SOURCE LINE # 20
0012 7400        R     MOV     A,#LOW tbl1
0014 2D                ADD     A,R5
0015 F8                MOV     R0,A
0016 E6                MOV     A,@R0
;---- Variable 't1' assigned to Register 'R1' ----
0017 F9                MOV     R1,A
                                           ; SOURCE LINE # 21
;---- Variable 'k' assigned to Register 'R2/R3' ----
0018 E4                CLR     A
0019 FB                MOV     R3,A
001A FA                MOV     R2,A
001B         ?C0041:
001B C3                CLR     C
001C EB                MOV     A,R3
001D 9500        R     SUBB    A,t2+01H
001F E500        R     MOV     A,t2
0021 6480              XRL     A,#080H
0023 F8                MOV     R0,A
C51 COMPILER V6.11  BZ                             12/13/2001 22:41:51 PAGE 6   

0024 EA                MOV     A,R2
0025 6480              XRL     A,#080H
0027 98                SUBB    A,R0
0028 501D              JNC     ?C0040
                                           ; SOURCE LINE # 22
;---- Variable 'j' assigned to Register 'R6' ----
002A E4                CLR     A
002B FE                MOV     R6,A
002C         ?C0044:
002C C3                CLR     C
002D E9                MOV     A,R1
002E 6480              XRL     A,#080H
0030 F8                MOV     R0,A
0031 EE                MOV     A,R6
0032 6480              XRL     A,#080H
0034 98                SUBB    A,R0
0035 5006              JNC     ?C0045
                                           ; SOURCE LINE # 23
0037 120000      R     LCALL   Delay100us
                                           ; SOURCE LINE # 24
003A 0E                INC     R6
003B 80EF              SJMP    ?C0044
003D         ?C0045:
                                           ; SOURCE LINE # 25
003D 6380FF            XRL     P0,#0FFH
                                           ; SOURCE LINE # 26
0040 0B                INC     R3
0041 BB0001            CJNE    R3,#00H,?C0051
0044 0A                INC     R2
0045         ?C0051:
0045 80D4              SJMP    ?C0041
                                           ; SOURCE LINE # 27
0047         ?C0040:
0047 0D                INC     R5
0048 BD0001            CJNE    R5,#00H,?C0052
004B 0C                INC     R4
004C         ?C0052:
004C ED                MOV     A,R5
004D 6408              XRL     A,#08H
004F 4C                ORL     A,R4
0050 70B3              JNZ     ?C0038
                                           ; SOURCE LINE # 28
0052         ?C0047:
0052 80FE              SJMP    ?C0047
             ; FUNCTION main (END)

C51 COMPILER V6.11  BZ                             12/13/2001 22:41:51 PAGE 7   

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
T0 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B4H  1
AC . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D6H  1
Delay1ms . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   INT      0006H  2
  j. . . . . . . . . . . . . . . . . .  AUTO     DATA   CHAR     0000H  1
T1 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B5H  1
EA . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
RD . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B7H  1
Delay1s. . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   CHAR     0000H  1
ES . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ACH  1
RI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0098H  1
INT0 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B2H  1
CY . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D7H  1
TI . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0099H  1
INT1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B3H  1
_Delay100usP . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  cnt. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   CHAR     0006H  1
PS . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BCH  1
OV . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D2H  1
main . . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  j. . . . . . . . . . . . . . . . . .  * REG *  DATA   CHAR     0006H  1
  t1 . . . . . . . . . . . . . . . . .  * REG *  DATA   CHAR     0001H  1
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   INT      0004H  2
  k. . . . . . . . . . . . . . . . . .  * REG *  DATA   INT      0002H  2
  t2 . . . . . . . . . . . . . . . . .  AUTO     DATA   INT      0000H  2
WR . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B6H  1
Delay10ms. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   CHAR     0005H  1
IE0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0089H  1
IE1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008BH  1
Delay10s . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   CHAR     0000H  1
ET0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A9H  1
ET1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ABH  1
TF0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008DH  1
TF1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008FH  1
RB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009AH  1
EX0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A8H  1
IT0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0088H  1
TB8. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009BH  1
EX1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AAH  1
IT1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008AH  1
P. . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D0H  1
SM0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009FH  1
SM1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009EH  1
SM2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009DH  1
PT0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B9H  1
PT1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BBH  1
RS0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D3H  1
TR0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008CH  1
RS1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D4H  1
TR1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008EH  1
PX0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B8H  1
PX1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00BAH  1
C51 COMPILER V6.11  BZ                             12/13/2001 22:41:51 PAGE 8   

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


Delay100ms . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   LONG     0000H  4
  j. . . . . . . . . . . . . . . . . .  * REG *  DATA   CHAR     0007H  1
REN. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      009CH  1
Delay100us . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   CHAR     0007H  1
RXD. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B0H  1
TXD. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B1H  1
tbl1 . . . . . . . . . . . . . . . . .  PUBLIC   DATA   ARRAY    0000H  8
tbl2 . . . . . . . . . . . . . . . . .  PUBLIC   DATA   ARRAY    0008H  16
F0 . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D5H  1
Delay100s. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   CHAR     0000H  1


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    253    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     24      10
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
