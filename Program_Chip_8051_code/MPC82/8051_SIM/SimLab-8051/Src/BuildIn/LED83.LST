Intel-8051 Macro Assembler - Version 1.00

      1    0000                           ;
      2    0000                           ; 配合"8個LED(共陽)實習板"
      3    0000                           ;     P0所接的8個LED(初始狀態:最左2個亮；其餘6個LED熄著),並進行右旋的變化
      4    0000                           ;
      5    0000                           
      6    0000     74 C0                 	MOV	A,#11000000B
      7    0002                           START:
      8    0002     F4                    	CPL	A
      9    0003     F5 80                 	MOV	P0,A
     10    0005     F4                    	CPL	A
     11    0006                           
     12    0006     11 4B                 	ACALL	DELAY100MS
     13    0008     03                    	RR	A
     14    0009     80 F7                 	SJMP	START
     15    000B                           
     16    000B                           	include delay.inc
I1    1    000B                            include RDelay.inc
I2    1    000B                           ;Simulator 專用副程式
I2    2    000B                           ;使用R0, R1, R2, R3
I2    3    000B                           ;
I2    4    000B                           DELAY100US:
I2    5    000B     C0 E0                 	PUSH	ACC
I2    6    000D     E9                    	MOV	A,R1
I2    7    000E     C0 E0                 	PUSH	ACC
I2    8    0010     79 2C                 	MOV	R1,#44
I2    9    0012     D9 FE                 	DJNZ	R1,$
I2   10    0014     D0 E0                 	POP	ACC
I2   11    0016     F9                    	MOV	R1,A
I2   12    0017     D0 E0                 	POP	ACC
I2   13    0019     22                    	RET
I2   14    001A                           ;
I2   15    001A                           DELAY1MS:
I2   16    001A     C0 E0                 	PUSH	ACC
I2   17    001C     E9                    	MOV	A,R1
I2   18    001D     C0 E0                 	PUSH	ACC
I2   19    001F     79 FF                 	MOV	R1,#255
I2   20    0021     D9 FE                 	DJNZ	R1,$
I2   21    0023     79 EC                 	MOV	R1,#236
I2   22    0025     D9 FE                 	DJNZ	R1,$
I2   23    0027     D0 E0                 	POP	ACC
I2   24    0029     F9                    	MOV	R1,A
I2   25    002A     D0 E0                 	POP	ACC
I2   26    002C     22                    	RET
I2   27    002D                           ;
I2   28    002D                           DELAY10MS:
I2   29    002D     C0 E0                 	PUSH	ACC
I2   30    002F     E8                    	MOV	A,R0
I2   31    0030     C0 E0                 	PUSH	ACC
I2   32    0032     E9                    	MOV	A,R1
I2   33    0033     C0 E0                 	PUSH	ACC
I2   34    0035     78 13                 	MOV	R0,#19
I2   35    0037                           DELAY10ms_1:
I2   36    0037     79 FF                 	MOV	R1,#255
I2   37    0039     D9 FE                 	DJNZ	R1,$
I2   38    003B     D8 FA                 	DJNZ	R0,DELAY10ms_1
I2   39    003D     79 71                 	MOV	R1,#113
I2   40    003F     D9 FE                 	DJNZ	R1,$
I2   41    0041     00                    	NOP
I2   42    0042     D0 E0                 	POP	ACC
I2   43    0044     F9                    	MOV	R1,A
I2   44    0045     D0 E0                 	POP	ACC
I2   45    0047     F8                    	MOV	R0,A
I2   46    0048     D0 E0                 	POP	ACC
I2   47    004A     22                    	RET
I2   48    004B                           ;
I2   49    004B                           DELAY100MS:
I2   50    004B     C0 E0                 	PUSH	ACC
I2   51    004D     E8                    	MOV	A,R0
I2   52    004E     C0 E0                 	PUSH	ACC
I2   53    0050     E9                    	MOV	A,R1
I2   54    0051     C0 E0                 	PUSH	ACC
I2   55    0053     78 C2                 	MOV	R0,#194
I2   56    0055                           DELAY100ms_1:
I2   57    0055     79 FF                 	MOV	R1,#255
I2   58    0057     D9 FE                 	DJNZ	R1,$
I2   59    0059     D8 FA                 	DJNZ	R0,DELAY100ms_1
I2   60    005B     D0 E0                 	POP	ACC
I2   61    005D     F9                    	MOV	R1,A
I2   62    005E     D0 E0                 	POP	ACC
I2   63    0060     F8                    	MOV	R0,A
I2   64    0061     D0 E0                 	POP	ACC
I2   65    0063     22                            RET
I2   66    0064                           ;
I2   67    0064                           DELAY1S:
I2   68    0064     C0 E0                 	PUSH	ACC
I2   69    0066     EA                    	MOV	A,R2
I2   70    0067     C0 E0                 	PUSH	ACC
I2   71    0069     7A 0A                 	MOV	R2,#10
I2   72    006B                           DELAY1s_1:
I2   73    006B     12 00 4B              	LCALL	DELAY100MS
I2   74    006E     DA FB                 	DJNZ	R2,DELAY1s_1
I2   75    0070     D0 E0                 	POP	ACC
I2   76    0072     FA                    	MOV	R2,A
I2   77    0073     D0 E0                 	POP	ACC
I2   78    0075     22                    	RET
I2   79    0076                           ;
I2   80    0076                           DELAY10S:
I2   81    0076     C0 E0                 	PUSH	ACC
I2   82    0078     EA                    	MOV	A,R2
I2   83    0079     C0 E0                 	PUSH	ACC
I2   84    007B     7A 64                 	MOV	R2,#100
I2   85    007D                           DELAY10s_1:
I2   86    007D     12 00 4B              	LCALL	DELAY100MS
I2   87    0080     DA FB                  	DJNZ	R2,DELAY10s_1
I2   88    0082     D0 E0                 	POP	ACC
I2   89    0084     FA                    	MOV	R2,A
I2   90    0085     D0 E0                 	POP	ACC
I2   91    0087     22                    	RET
I2   92    0088                           ;
I2   93    0088                           DELAY100S:
I2   94    0088     C0 E0                 	PUSH	ACC
I2   95    008A     EB                    	MOV	A,R3
I2   96    008B     C0 E0                 	PUSH	ACC
I2   97    008D     7B 0A                 	MOV	R3,#10
I2   98    008F                           DELAY100s_1:
I2   99    008F     12 00 76              	LCALL	DELAY10S
I2  100    0092     DB FB                 	DJNZ	R3,DELAY100s_1
I2  101    0094     D0 E0                 	POP	ACC
I2  102    0096     FA                    	MOV	R2,A
I2  103    0097     D0 E0                 	POP	ACC
I2  104    0099     22                    	RET
I2  105    009A                           ;
I2  106    009A                           DELAY100USP:
I2  107    009A     C0 E0                 	PUSH	ACC
I2  108    009C     E9                    	MOV	A,R1
I2  109    009D     C0 E0                 	PUSH	ACC
I2  110    009F     EF                    	MOV	A, R7
I2  111    00A0                           DELAY100usP_1:
I2  112    00A0     79 2C                 	MOV	R1,#44
I2  113    00A2     D9 FE                 	DJNZ	R1,$
I2  114    00A4     D5 E0 F9              	DJNZ	ACC,DELAY100usP_1    
I2  115    00A7     D0 E0                 	POP	ACC
I2  116    00A9     F9                    	MOV	R1,A
I2  117    00AA     D0 E0                 	POP	ACC
I2  118    00AC     22                    	RET
I2  119    00AD                           ;
I1    2    00AD                           
     17    00AD                           
     18    00AD                           
     19    00AD                           	END
