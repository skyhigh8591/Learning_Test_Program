C51 COMPILER V9.01   EINT1                                                                 07/13/2010 15:42:45 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE EINT1
OBJECT MODULE PLACED IN EINT1.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE EINT1.C OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /********** EINT1.c ********外部中斷範例***************
   2          * 動作：LED0遞加，INT0腳輸入0準位或負緣觸發時，LED1閃爍5次
   3          * 硬體：SW1-3(P0LED)及SW1-4(P1LED)ON，按KEY1(INT0) 
   4          *****************************************************/
   5          #include "..\MPC82.H"   //暫存器及組態定義
   6          main() 
   7          {
   8   1        unsigned char i=0; //定義變數=0
   9   1        P0M0=0; P0M1=0xFF; //設定P0為推挽式輸出(M0-1=01)
  10   1        EA=1;      //致能整體中斷
  11   1        EX0=1;     //致能外部INT0中斷
  12   1        IT0=1;         //0=0準位輸入，1=負緣觸發輸入
  13   1        while(1)   //不斷循環，等待INT0外部中斷
  14   1         {
  15   2           LED0=~i++;  //變數遞加由LED0反相輸出
  16   2           Delay_ms(500);//同時等待INT0中斷輸入
  17   2         }
  18   1      }
  19          //********INT0中斷函數，使用暫存器庫1**********
  20          void EX0_int(void) interrupt 0  using 1
  21           {
  22   1          unsigned char i=5;     //定義閃爍5次
  23   1          unsigned int  dly; //定義延時變數
  24   1          while(i--)  //閃爍次數
  25   1           {
  26   2            LED1=0x00; dly=50000; while(dly--);//全亮，延時
  27   2            LED1=0xff; dly=50000; while(dly--);//全暗，延時
  28   2          }
  29   1       }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    152    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      8    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
