C51 COMPILER V8.17   QLCD1                                                                 08/27/2009 23:11:37 PAGE 1   


C51 COMPILER V8.17, COMPILATION OF MODULE QLCD1
OBJECT MODULE PLACED IN QLCD1.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE QLCD1.c OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /************** QLCD1.C **********************************
   2          *動作：由LCD顯示兩行文字
   3          ***********************************************/
   4          #include "..\MPC82.H"   //暫存器及組態定義
   5          void main(void)
   6          {
   7   1         unsigned char i;        //資料計數
   8   1         LCD_init();    //重置及清除LCD    
   9   1         LCD_Cmd(0x85); //游標由第一行第5個字開始顯示  
  10   1         LCD_Data('1');
  11   1         while(1);  
  12   1      }
*** WARNING C280 IN LINE 7 OF QLCD1.C: 'i': unreferenced local variable
  13          /***********************************************************
  14          *函數名稱: LCD_Data
  15          *功能描述: 傳送資料到文字型LCD
  16          *輸入參數：dat
  17          ************************************************************/
  18          void LCD_Data(char dat)  //傳送資料到LCD
  19          {
  20   1          Data=dat; //資料送到BUS
  21   1          RS=1;RW=0;EN=1;//資料寫入到LCD內
  22   1          Delay_ms(1);   //LCD等待寫入完成
  23   1          EN=0;          //禁能LCD 
  24   1              Delay_ms(1);   //LCD等待寫入完成   
  25   1      }
  26          /***************************************************************
  27          *函數名稱: LCD_Cmd
  28          *功能描述: 傳送命令到文字型LCD
  29          *輸入參數：Cmd
  30          ************************************************************/
  31          void LCD_Cmd(unsigned char Cmd) //傳送命令到LCD
  32          {
  33   1          Data=Cmd;  //命令送到BUS
  34   1          RS=0;RW=0;EN=1; //命令寫入到LCD內
  35   1          Delay_ms(1);    //LCD等待寫入完成     
  36   1          EN=0;           //禁能LCD
  37   1              Delay_ms(1);   //LCD等待寫入完成
  38   1      }
  39          /***************************************************************
  40          *函數名稱: LCD_init
  41          *功能描述: 啟始化文字型LCD
  42          *****************************************************************/
  43          void LCD_init(void)    //LCD的啟始程式  
  44          {
  45   1              Delay_ms(10);    //初始化SETUP
  46   1          LCD_Cmd(0x30);LCD_Cmd(0x30);
  47   1                          /*bit4:DL=1,8bit傳輸,
  48   1                            bit2:RE=0,使用基本指令*/    
  49   1          LCD_Cmd(0x0F);/*0000 1100,顯示幕ON,顯示游標,游標閃爍
  50   1                          bit2:D=1,顯示幕ON
  51   1                          bit1:C=1,顯示游標
  52   1                              bit0:B=1,游標閃爍*/
  53   1          LCD_Cmd(0x01); //清除顯示幕
  54   1              LCD_Cmd(0x05);/*0000 0101,//顯示完游標右移,游標移位禁能 
C51 COMPILER V8.17   QLCD1                                                                 08/27/2009 23:11:37 PAGE 2   

  55   1                          bit1:I/D=1,顯示完游標右移,
  56   1                          bit0:S=1,游標移位致能*/    
  57   1         
  58   1          LCD_Cmd(0x02); //游標回原位  
  59   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    155    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      7    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
