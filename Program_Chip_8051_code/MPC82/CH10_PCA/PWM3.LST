C51 COMPILER V9.03   PWM3                                                                  11/27/2011 15:44:01 PAGE 1   


C51 COMPILER V9.03, COMPILATION OF MODULE PWM3
OBJECT MODULE PLACED IN PWM3.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE PWM3.c OPTIMIZE(2,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /************** PWM3.C *******PCA計數PWM實習**********
   2          *動作：由接腳CEX0-5(P12~7)輸出6個PWM波形
   3          *硬體：先SW1-4(P1LED)OFF量測電壓，再SW1-4(P1LED)ON觀察LED亮度
   4          ****************************************************/
   5          #include "..\MPC82.H" 
   6          void main()
   7          {
   8   1              CMOD=0x00; //CPS1-0=00,Fpwm=Fosc/12/256=22.1184MHz/12/256=7.2KHz
   9   1       // CMOD=CPS0; //CPS1-0=01,Fpwm=Fosc/2/256=22.1184MHz/2/256=43.2KHz
  10   1                         //致能CEX0-5輸出PWM 
  11   1              CCAPM0=CCAPM1=CCAPM2=CCAPM3=CCAPM4=CCAPM5=ECOM+PWM; 
  12   1              CCAP0H=0x10;  //設定(P12/CEX0)脈波時間，平均電壓為4.6V
  13   1              CCAP1H=0x20;  //設定(P13/CEX1)脈波時間，平均電壓為4.4V
  14   1              CCAP2H=0x40;  //設定(P14/CEX2)脈波時間，平均電壓為3.8V
  15   1              CCAP3H=0x80;  //設定(P15/CEX3)脈波時間，平均電壓為2.6V
  16   1              CCAP4H=0xA0;  //設定(P16/CEX4)脈波時間，平均電壓為1.8V
  17   1              CCAP5H=0xFF;  //設定(P17/CEX5)脈波時間，平均電壓為0.01V
  18   1              //PCAPWM0=ECAPH; CCAP0H=0x00; //設定(P12/CEX0)，平均電壓為0V
  19   1      
  20   1              CR=1;     //開始PCA計數
  21   1              while(1); //空轉，此時不斷的由接腳CEX0-5輸出PWM波形
  22   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     89    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       4
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
