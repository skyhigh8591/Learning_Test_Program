  Fri Jul 26 17:27:38 2002                                                                                               Page    1







               2500 A.D. 8051 Macro Assembler  -  Version 5.03b
               ------------------------------------------------

                       Input  Filename : LED83.a51
                       Output Filename : LED83.OBJ


    1                          	;
    2                          	; 配合"8個LED(共陽)實習板"
    3                          	;     P0所接的8個LED(初始狀態:最左2個亮；其餘6個LED熄著),並進行右旋的變化
    4                          	;
    5                          	
    6   0000   74 C0           		MOV	A,#11000000B
    7   0002                   	START:
    8   0002   F4              		CPL	A
    9   0003   F5 80           		MOV	P0,A
   10   0005   F4              		CPL	A
   11                          	
   12   0006   11 4B           		ACALL	DELAY100MS
   13   0008   03              		RR	A
   14   0009   80 F7           		SJMP	START
   15                          	
   16   000B                   		include delay.inc
   17   000B                   	 include RDelay.inc
   18                          	;Simulator 專用副程式
   19                          	;使用R0, R1, R2, R3
   20                          	;
   21   000B                   	DELAY100US:
   22   000B   C0 E0           		PUSH	ACC
   23   000D   E9              		MOV	A,R1
   24   000E   C0 E0           		PUSH	ACC
   25   0010   79 2C           		MOV	R1,#44
   26   0012   D9 FE           		DJNZ	R1,$
   27   0014   D0 E0           		POP	ACC
   28   0016   F9              		MOV	R1,A
   29   0017   D0 E0           		POP	ACC
   30   0019   22              		RET
   31                          	;
   32   001A                   	DELAY1MS:
   33   001A   C0 E0           		PUSH	ACC
   34   001C   E9              		MOV	A,R1
   35   001D   C0 E0           		PUSH	ACC
   36   001F   79 FF           		MOV	R1,#255
   37   0021   D9 FE           		DJNZ	R1,$
   38   0023   79 EC           		MOV	R1,#236
   39   0025   D9 FE           		DJNZ	R1,$
   40   0027   D0 E0           		POP	ACC
   41   0029   F9              		MOV	R1,A
   42   002A   D0 E0           		POP	ACC
   43   002C   22              		RET
   44                          	;
   45   002D                   	DELAY10MS:
   46   002D   C0 E0           		PUSH	ACC
   47   002F   E8              		MOV	A,R0
  Fri Jul 26 17:27:38 2002                                                                                               Page    2




   48   0030   C0 E0           		PUSH	ACC
   49   0032   E9              		MOV	A,R1
   50   0033   C0 E0           		PUSH	ACC
   51   0035   78 13           		MOV	R0,#19
   52   0037                   	DELAY10ms_1:
   53   0037   79 FF           		MOV	R1,#255
   54   0039   D9 FE           		DJNZ	R1,$
   55   003B   D8 FA           		DJNZ	R0,DELAY10ms_1
   56   003D   79 71           		MOV	R1,#113
   57   003F   D9 FE           		DJNZ	R1,$
   58   0041   00              		NOP
   59   0042   D0 E0           		POP	ACC
   60   0044   F9              		MOV	R1,A
   61   0045   D0 E0           		POP	ACC
   62   0047   F8              		MOV	R0,A
   63   0048   D0 E0           		POP	ACC
   64   004A   22              		RET
   65                          	;
   66   004B                   	DELAY100MS:
   67   004B   C0 E0           		PUSH	ACC
   68   004D   E8              		MOV	A,R0
   69   004E   C0 E0           		PUSH	ACC
   70   0050   E9              		MOV	A,R1
   71   0051   C0 E0           		PUSH	ACC
   72   0053   78 C2           		MOV	R0,#194
   73   0055                   	DELAY100ms_1:
   74   0055   79 FF           		MOV	R1,#255
   75   0057   D9 FE           		DJNZ	R1,$
   76   0059   D8 FA           		DJNZ	R0,DELAY100ms_1
   77   005B   D0 E0           		POP	ACC
   78   005D   F9              		MOV	R1,A
   79   005E   D0 E0           		POP	ACC
   80   0060   F8              		MOV	R0,A
   81   0061   D0 E0           		POP	ACC
   82   0063   22              	        RET
   83                          	;
   84   0064                   	DELAY1S:
   85   0064   C0 E0           		PUSH	ACC
   86   0066   EA              		MOV	A,R2
   87   0067   C0 E0           		PUSH	ACC
   88   0069   7A 0A           		MOV	R2,#10
   89   006B                   	DELAY1s_1:
   90   006B   12 00 4B        		LCALL	DELAY100MS
   91   006E   DA FB           		DJNZ	R2,DELAY1s_1
   92   0070   D0 E0           		POP	ACC
   93   0072   FA              		MOV	R2,A
   94   0073   D0 E0           		POP	ACC
   95   0075   22              		RET
   96                          	;
   97   0076                   	DELAY10S:
   98   0076   C0 E0           		PUSH	ACC
   99   0078   EA              		MOV	A,R2
  100   0079   C0 E0           		PUSH	ACC
  101   007B   7A 64           		MOV	R2,#100
  102   007D                   	DELAY10s_1:
  103   007D   12 00 4B        		LCALL	DELAY100MS
  104   0080   DA FB           	 	DJNZ	R2,DELAY10s_1
  Fri Jul 26 17:27:38 2002                                                                                               Page    3




  105   0082   D0 E0           		POP	ACC
  106   0084   FA              		MOV	R2,A
  107   0085   D0 E0           		POP	ACC
  108   0087   22              		RET
  109                          	;
  110   0088                   	DELAY100S:
  111   0088   C0 E0           		PUSH	ACC
  112   008A   EB              		MOV	A,R3
  113   008B   C0 E0           		PUSH	ACC
  114   008D   7B 0A           		MOV	R3,#10
  115   008F                   	DELAY100s_1:
  116   008F   12 00 76        		LCALL	DELAY10S
  117   0092   DB FB           		DJNZ	R3,DELAY100s_1
  118   0094   D0 E0           		POP	ACC
  119   0096   FA              		MOV	R2,A
  120   0097   D0 E0           		POP	ACC
  121   0099   22              		RET
  122                          	;
  123   009A                   	DELAY100USP:
  124   009A   C0 E0           		PUSH	ACC
  125   009C   E9              		MOV	A,R1
  126   009D   C0 E0           		PUSH	ACC
  127   009F   EF              		MOV	A, R7
  128   00A0                   	DELAY100usP_1:
  129   00A0   79 2C           		MOV	R1,#44
  130   00A2   D9 FE           		DJNZ	R1,$
  131   00A4   D5 E0 F9        		DJNZ	ACC,DELAY100usP_1    
  132   00A7   D0 E0           		POP	ACC
  133   00A9   F9              		MOV	R1,A
  134   00AA   D0 E0           		POP	ACC
  135   00AC   22              		RET
  136                          	;
  137                          	
  138                          	
  139                          	
  140   00AD                   		END


             Lines Assembled : 140                  Errors : 0


