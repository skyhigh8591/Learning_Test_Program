C51 COMPILER V9.56.0.0   4_2                                                               02/27/2020 11:24:31 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE 4_2
OBJECT MODULE PLACED IN 4_2.OBJ
COMPILER INVOKED BY: C:\Keil_v51\C51\BIN\C51.EXE 4_2.C OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /********** 4_2.c *****************************
   2          *動作：喇叭(SPEAK)輸出嗶嗶聲，按下KEY1時，喇叭停止
   3          *硬體：SW2-5(SPK)ON，按KEY1
   4          ***********************************************/
   5          #include "..\MPC82.H"   //暫存器及組態定義
   6          #define F     600 //定義音頻常數
   7          #define T     600 //定義音長常數
   8          #define STOP1  300  //定義嗶聲的間隔時間
   9          #define STOP2  1000 //定義間隔時間
  10          
  11          void beep(unsigned char i); 
  12          
  13          main() 
  14          {
  15   1        P1M0=0;    P1M1=0x01; //設定P10(SPK)為推挽式輸出(M0-1=01)
  16   1        while(1)
  17   1        {
  18   2          beep(1);        //嗶一聲
  19   2          SPEAK=0; Delay_ms(STOP2); //喇叭停止，間隔時間
  20   2          beep(2);        //嗶二聲
  21   2          SPEAK=0; Delay_ms(STOP2); //喇叭停止，間隔時間
  22   2          beep(3);        //嗶三聲
  23   2          SPEAK=0; Delay_ms(STOP2); //喇叭停止，間隔時間
  24   2        }
  25   1      }
  26          /********************************************/
  27          void beep(unsigned char i)
  28          {
  29   1        unsigned int  j,dly;//SPEAK反相次數
  30   1        while(i--)   //嗶聲次數
  31   1         {
  32   2           for(j=0;j<T;j++) //輸出反相次數，決定音長
  33   2            {
  34   3              while(KEY1==1) SPEAK=0; // 按下KEY1時，喇叭停止
  35   3            SPEAK=!SPEAK; //SPEAK反相,令喇叭發出聲音
  36   3            dly=F; while(dly--);//音頻延時
  37   3            }
  38   2        SPEAK=0; Delay_ms(STOP1);//喇叭停止，嗶聲的間隔時間
  39   2        }
  40   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    174    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      9    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
