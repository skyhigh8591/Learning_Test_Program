C51 COMPILER V9.03   UART7                                                                 04/27/2011 20:21:39 PAGE 1   


C51 COMPILER V9.03, COMPILATION OF MODULE UART7
OBJECT MODULE PLACED IN UART7.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE UART7.C BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /******* UART7.c ***********串列埠函數發射***************
   2          *動作：以putchar()函數串列發射陣列字元到電腦UART
   3          *硬體：SW3-3(TxD1)ON
   4          ***********************************************************/
   5          #include "..\MPC82.H"   //暫存器及組態定義
   6          #include <stdio.h>  //加入標準輸出入函數
   7          char code TABLE[] = {"abcdefghijklmnop"};//定義陣列常數 
   8          main()
   9          {
  10   1        char i;   //定義陣列計數變數
  11   1        UART_init(9600);  //設定串列環境及鮑率
  12   1        TI=1;
  13   1        for(i=0;i<16;i++)  //陣列計數變數=0~16
  14   1         {
  15   2           putchar (TABLE[i]); //由串列埠發射一個字元
  16   2           putchar('\n');     //跳行
  17   2         }
  18   1          putchar('\n');       //跳行    
  19   1        puts("ABCDEFGHIJKLMNOP"); //由串列埠發射一個字串   
  20   1        while(1);  //自我空轉
  21   1      }
  22          /***********************************************************
  23          *函數名稱: UART_init
  24          *功能描述: UART啟始程式
  25          *輸入參數：bps
  26          ************************************************************/
  27          void UART_init(unsigned int bps)  //UART啟始程式
  28          {  P0M0=0; P0M1=0xFF; //設定P0為推挽式輸出(M0-1=01)
  29   1         SCON = 0x50;     //設定UART串列傳輸為MODE1及致能接收
  30   1         TMOD = 0x20;     //設定TIMER1為MODE2
  31   1         TH1 = 256-(57600/bps);  //設計時器決定串列傳輸鮑率
  32   1         TR1 = 1;          //開始計時
  33   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    128    ----
   CONSTANT SIZE    =     34    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
