C51 COMPILER V9.56.0.0   PWM1                                                              03/11/2020 16:03:54 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE PWM1
OBJECT MODULE PLACED IN PWM1.OBJ
COMPILER INVOKED BY: C:\Keil_v51\C51\BIN\C51.EXE PWM1.c OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /********** PWM1.C ***********************
   2          *動作：使用基本I/O輸出4個的PWM波形 
   3          *****************************************/
   4          #include "..\MPC82.H"   //暫存器及組態定義
   5          unsigned char PWM_VAR=0;      //定義PWM數值變數
   6          unsigned char PWM1_VAR=0x10;  //定義PWM1腳輸出脈波
   7          unsigned char PWM2_VAR=0x80;  //定義PWM2腳輸出脈波
   8          unsigned char PWM3_VAR=0xA0;  //定義PWM3腳輸出脈波
   9          unsigned char PWM4_VAR=0xF0;  //定義PWM4腳輸出脈波
  10          unsigned char PWM5_VAR=0x10;  //定義PWM5腳輸出脈波
  11          unsigned char PWM6_VAR=0x80;  //定義PWM6腳輸出脈波
  12          unsigned char PWM7_VAR=0xa0;  //定義PWM7腳輸出脈波
  13          unsigned char PWM8_VAR=0xF0;  //定義PWM8腳輸出脈波
  14          
  15          sbit PWM1=0x80;  //PWM1=P00
  16          sbit PWM2=0x81;  //PWM2=P01
  17          sbit PWM3=0x82;  //PWM3=P02
  18          sbit PWM4=0x83;  //PWM4=P03
  19          sbit PWM5=0x84;  //PWM5=P04
  20          sbit PWM6=0x85;  //PWM6=P05
  21          sbit PWM7=0x86;  //PWM7=P06
  22          sbit PWM8=0x87;  //PWM8=P07
  23          
  24          main()
  25          {
  26   1        while(1)      //週而覆始
  27   1         {
  28   2          PWM1=PWM2=PWM3=PWM4=1;   //PWM的開始準位=1
  29   2          while(PWM_VAR++)  //若PWM_VAR未遞加到0則PWM輸出
  30   2         {
  31   3          if(PWM_VAR > PWM1_VAR) PWM1=0;//若計時值 >PWM1值，PWM1=0
  32   3          if(PWM_VAR > PWM2_VAR) PWM2=0;//若計時值 >PWM2值，PWM2=0
  33   3          if(PWM_VAR > PWM3_VAR) PWM3=0;//若計時值 >PWM3值，PWM3=0
  34   3          if(PWM_VAR > PWM4_VAR) PWM4=0;//若計時值 >PWM4值，PWM4=0
  35   3          if(PWM_VAR > PWM1_VAR) PWM5=0;//若計時值 >PWM5值，PWM5=0
  36   3          if(PWM_VAR > PWM2_VAR) PWM6=0;//若計時值 >PWM6值，PWM6=0
  37   3          if(PWM_VAR > PWM3_VAR) PWM7=0;//若計時值 >PWM7值，PWM7=0
  38   3          if(PWM_VAR > PWM4_VAR) PWM8=0;//若計時值 >PWM8值，PWM8=0
  39   3           }    
  40   2         }
  41   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    137    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     13    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
