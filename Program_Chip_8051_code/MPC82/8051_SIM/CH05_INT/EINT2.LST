C51 COMPILER V8.16   EINT2                                                                 02/10/2009 14:53:21 PAGE 1   


C51 COMPILER V8.16, COMPILATION OF MODULE EINT2
OBJECT MODULE PLACED IN EINT2.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE EINT2.C OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /********* EINT2.c ********外部中斷範例**********************
   2          *動作：INT0(P32)腳輸入負緣觸發時，LED0閃爍50次
   3          *      INT1(P33)腳輸入負緣觸發時，LED0遞減50次
   4          *      INT2(P43)腳輸入負緣觸發時，LED1閃爍50次
   5          *      INT3(P42)腳輸入負緣觸發時，LED1遞減50次
   6          *硬體：反相輸出，將SW1-3(P0LED)及SW1-4(P1LED)短路，按KEY1-4鍵。
   7          ***********************************************/
   8          #include "..\MPC82.H"   //暫存器及組態定義
   9          main()
  10          {
  11   1        unsigned char  j=0;      //定義變數=0
  12   1        EA=1;          //致能整體中斷
  13   1        EX0=1; EX1=1; EX2=1;EX3=1;//致能外部INT0~3中斷
  14   1        IT0=1; IT1=1; IT2=1;IT3=1;//設定INT0~3腳負緣觸發中斷
  15   1        PX1=1;        //設定INT1中斷優先
  16   1        while(1);     //等待INT0-3中斷
  17   1      }
  18          /*********************************/
  19          void EX0_int(void) interrupt 0   //INT0中斷函數0
  20          {
  21   1        char i;
  22   1        for(i=0;i<50;i++) //閃爍計數
  23   1         {
  24   2           LED0=0x00;Delay_ms(100); 
  25   2           LED0=0xff;;Delay_ms(100);
  26   2         }
  27   1      }
  28          /*********************************************/
  29          void EX1_int(void) interrupt 2   //INT1中斷函數2
  30          {
  31   1        char i; 
  32   1        unsigned int dly;     
  33   1        for(i=0;i<50;i++)   //遞減計數
  34   1         {
  35   2           LED0=~i;
  36   2               dly=50000; while(dly--);
  37   2         }
  38   1      }
  39          /*********************************************/
  40          void EX2_int(void) interrupt 6   //INT2中斷函數6
  41          {
  42   1       char i;
  43   1        unsigned int dly;
  44   1        for(i=0;i<50;i++) //閃爍計數
  45   1         {
  46   2           LED1=0x00;dly=50000; while(dly--); 
  47   2           LED1=0xff;dly=50000; while(dly--);
  48   2         }
  49   1      }
  50          /*********************************************/
  51          void EX3_int(void) interrupt 7   //INT3中斷函數7
  52          {
  53   1        char i; 
  54   1        unsigned int dly;     
  55   1        for(i=0;i<50;i++)   //遞減計數
C51 COMPILER V8.16   EINT2                                                                 02/10/2009 14:53:21 PAGE 2   

  56   1         {
  57   2           LED1=~i;
  58   2               dly=50000; while(dly--);
  59   2         }
  60   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    335    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     15    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
