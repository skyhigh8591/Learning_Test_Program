C51 COMPILER V9.03   PWM4                                                                  11/27/2011 15:44:56 PAGE 1   


C51 COMPILER V9.03, COMPILATION OF MODULE PWM4
OBJECT MODULE PLACED IN PWM4.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE PWM4.c OPTIMIZE(2,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /************** PWM4.C *******PCA計數PWM實習**********
   2          *動作：不斷改變CEX0(P12)輸出的PWM波形,調整LED亮度或喇叭音量
   3          *硬體：SW1-4(P1LED)或SW2-6(SPK)ON
   4          *****************************************************/
   5          #include "..\MPC82.H" 
   6          void main()       
   7          {
   8   1          unsigned char i;
   9   1              CCAPM0=ECOM+PWM; //致能CEX0比較器及PWM輸出 
  10   1          CMOD=0x00; //CPS1-0=00,Fpwm=Fosc/12/256=22.1184MHz/12/256=7.2KHz
  11   1              CR=1;      //開始PCA計數
  12   1          while(1)   //重覆輸出PWM波形
  13   1          {
  14   2                for(i=0;i<255;i++)//低電位比率漸漸增加，LED漸亮
  15   2                 {
  16   3                  CCAP0H=i; //設定CEX0的PWM脈波時間
  17   3                  Delay_ms(30);
  18   3                 }
  19   2                for(i=255;i>1;i--)//低電位比率漸漸減少，LED漸暗
  20   2                 {
  21   3                  CCAP0H=i; //設定CEX0的PWM脈波時間
  22   3                  Delay_ms(30);
  23   3                 }
  24   2              }        
  25   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    102    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
