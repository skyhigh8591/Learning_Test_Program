C51 COMPILER V9.05   RYG3                                                                  11/08/2011 20:07:55 PAGE 1   


C51 COMPILER V9.05, COMPILATION OF MODULE RYG3
OBJECT MODULE PLACED IN RYG3.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE RYG3.C OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /********** RYG3.c ******************************
   2          *動作：令LED輸出紅黃綠燈變化，當KEY1=0時黃燈互閃
   3          *硬體：SW1-3(P0LED)ON,按KEY1
   4          ***********************************************/
   5          #include "..\MPC82.H"   //暫存器及組態定義
   6          char code light[]=   //紅黃綠燈的變化資料
   7          {0x21,0x01,0x21,0x01,0x21,0x01,0x21,0x11,
   8           0x0C,0x08,0x0C,0x08,0x0C,0x08,0x0C,0x0A};
   9          
  10          char code time[] =   //每一個變化的時間
  11          {30,1,1,1,1,1,1,4,30,1,1,1,1,1,1,4};
  12          
  13          main()
  14          {
  15   1        char i;  //資料計數
  16   1        P0M0=0; P0M1=0xFF; //設定P0為推挽式輸出(M0-1=01)
  17   1        while(1) //永久循環執行
  18   1        {
  19   2         if(KEY1==1)   //KEY1=1，紅黃綠燈動作
  20   2           {
  21   3            for (i=0;i<16;i++) //設定0~15個變化
  22   3            {
  23   4              if(KEY1==0) break;//若當KEY1=0時，跳出迴圈，黃燈互閃
  24   4              LED=~light[i];  //紅黃綠燈資料反相輸出
  25   4              Delay_ms(time[i]*100);//將每一個變化的時間送到延時函數
  26   4            }
  27   3          }
  28   2         else
  29   2           {
  30   3             if(KEY1==1) break;//若當KEY1=1時，跳出迴圈，紅黃綠燈動作
  31   3             LED=~0x10; Delay_ms(100);     //黃燈互閃
  32   3             LED=~0x02; Delay_ms(100);
  33   3           }
  34   2         }
  35   1      }
*** WARNING C290 IN LINE 35 OF RYG3.C: missing return value


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    160    ----
   CONSTANT SIZE    =     32    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      5    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
