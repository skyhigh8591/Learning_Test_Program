C51 COMPILER V8.10   PWM1                                                                  09/12/2009 10:13:54 PAGE 1   


C51 COMPILER V8.10, COMPILATION OF MODULE PWM1
OBJECT MODULE PLACED IN PWM1.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE PWM1.c OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /********** PWM1.C ***********************
   2          *動作：使用基本I/O輸出4個的PWM波形 
   3          *****************************************/
   4          #include "..\MPC82.H"   //暫存器及組態定義
   5          unsigned char PWM_VAR=0;      //定義PWM數值變數
   6          unsigned char PWM1_VAR=0x10;  //定義PWM1腳輸出脈波
   7          unsigned char PWM2_VAR=0x80;  //定義PWM2腳輸出脈波
   8          unsigned char PWM3_VAR=0xA0;  //定義PWM3腳輸出脈波
   9          unsigned char PWM4_VAR=0xF0;  //定義PWM4腳輸出脈波
  10          
  11          sbit PWM1=0x80;  //PWM1=P00
  12          sbit PWM2=0x81;  //PWM2=P01
  13          sbit PWM3=0x82;  //PWM3=P02
  14          sbit PWM4=0x83;  //PWM4=P03
  15          
  16          main()
  17          {
  18   1        while(1)      //週而覆始
  19   1         {
  20   2          PWM1=PWM2=PWM3=PWM4=1;       //PWM的開始準位=1
  21   2          while(PWM_VAR++)    //若PWM_VAR未遞加到0則PWM輸出
  22   2               {
  23   3                if(PWM_VAR > PWM1_VAR) PWM1=0;//若計時值 >PWM1值，PWM1=0
  24   3                if(PWM_VAR > PWM2_VAR) PWM2=0;//若計時值 >PWM2值，PWM2=0
  25   3                if(PWM_VAR > PWM3_VAR) PWM3=0;//若計時值 >PWM3值，PWM3=0
  26   3                if(PWM_VAR > PWM4_VAR) PWM4=0;//若計時值 >PWM4值，PWM4=0
  27   3           }    
  28   2         }
  29   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    101    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      9    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
