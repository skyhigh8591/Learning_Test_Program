C51 COMPILER V9.03   FAST1                                                                 11/27/2011 14:55:03 PAGE 1   


C51 COMPILER V9.03, COMPILATION OF MODULE FAST1
OBJECT MODULE PLACED IN FAST1.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE FAST1.C OPTIMIZE(0,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /*** FAST1.C*********PCA高速輸出範例************
   2          *動作：PCA高速輸出，控制CEX0(P12)腳反相輸出。
   3          *硬體：低頻SW1-4(P1LED)或高頻SW2-6(SPK)ON
   4          ***********************************************/
   5          #include "..\MPC82.H"   //暫存器及組態定義
   6          //Fosc=22.1184MHz，PCA計數時脈=Fosc/12=1.8432MHz
   7          #define T  14400  //PCA延時時間=(1/1.8432MHz)*14400=7812.5uS
   8          main()         
   9          {
  10   1        PCON2=7; //Fosc=Fosc/128，PCA延時時間=7812.5uS*128=1秒
  11   1        CCAPM0 = ECOM+MAT+TOG; //MAT=1，PAC計數與CCAP0匹配時，令CCF0=1
  12   1                               //ECOM=1，致能比較器功能
  13   1                                                   //TOG=1，(CH:CL)=CCAP0時，令CEX0腳反相
  14   1        CCAP0L=T;         //設定比較暫存器低位元組
  15   1        CCAP0H=T>>8;  //設定比較暫存器高位元組
  16   1        CR=1;             //啟動PCA計數    
  17   1        while(1)
  18   1         {
  19   2               CCF0 = 0;              //清除模組0的比較旗標
  20   2               CL = CH =0;    //PCA計數器由0開始上數
  21   2               while(CCF0==0);//等待PCA計數器(CH:CL)=CCAP0，令中斷旗標CCF0=1
  22   2         }    
  23   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     75    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
